; -----------------------------------------------------------------------------
; Snow
; -----------------------------------------------------------------------------

Weather
  SnowEnabled = yes ; enable/disable snow on the map.
  SnowTexture = ExSnowFlake1.tga ;texture used for each snow particle.
  SnowBoxDimensions = 300 ; width/height of box around camera containing snow.
  SnowBoxDensity = 1 ; amount of snow particles per world-unit. Raise to increase particle count.
  SnowFrequencyScaleX = 0.0533 ;speed of side-to-side wave movement.
  SnowFrequencyScaleY = 0.0275 ;speed of side-to-side wave movement. 
  SnowAmplitude = 2.0 ;amount of side-to-side movement. 
  SnowVelocity = 1.0 ;speed at which snow falls
  SnowPointSize = .16 ;scale the size of snow particles.
  SnowMaxPointSize = 10.0 ; maximum pixel size of point sprite particles (min-spec requires <= 64).
  SnowMinPointSize = 0.0 ; minimum pixel size of point sprite particles.

  ;Some video cards can't do hardware accelerated particles.  Set this
  ;setting to "no" in order see what emulation will look like.  Use the
  ;SnowQuadSize setting to make it look similar to PointSprite version.

  SnowPointSprites = yes ;set to "no" for point-sprite emulation.
  SnowQuadSize = 0.5 ;scale the size of snow particles when using point-sprite emulation.
End

; -----------------------------------------------------------------------------
; Water
; -----------------------------------------------------------------------------

WaterTransparency
  TransparentWaterMinOpacity = 1.0 ; opacity of water at maximum depth - 1.0 is opaque, 0 transparent.
  TransparentWaterDepth = 3.0 ; depth below water surface at which it becomes opaque (unless clipped by TransparentWaterMinOpacity)
  StandingWaterColor = R:85 G:85 B:85 ; material color used to tint the water surface.
  StandingWaterTexture = TWWater01.tga ; main texture used for water (usually something blue that looks like water).
  AdditiveBlending = no ; use additive blending instead of alpha blending?
  RadarWaterColor = R:140 G:140 B:255 ; color of water on radar display.

; -----------------------------------------------------------------------------
; Skybox
; -----------------------------------------------------------------------------
  SkyboxTextureN = cine_biakclouds.tga
  SkyboxTextureE = cine_biakclouds.tga
  SkyboxTextureS = cine_biakclouds.tga
  SkyboxTextureW = cine_biakclouds.tga
  SkyboxTextureT = cine_biakclouds.tga

End

; -----------------------------------------------------------------------------
; Waterfalls
;
; From: https://www.youtube.com/watch?v=ACbklVPfYRk
; Author: AGX750
; -----------------------------------------------------------------------------

Object ParticleTestObject
 ReplaceModule ModuleTag_01
  Draw                = W3DModelDraw ModuleTag_01_Override
    ConditionState    = NONE ;100%
      Model           = NONE
      ParticleSysBone = WaterSpray01 WaterSpray
      ParticleSysBone = WaterSpray02 WaterSpray
      ParticleSysBone = WaterSpray03 WaterSpray
    End
    ConditionState    = DAMAGED ;50%
      Model           = NONE
      ParticleSysBone = Spray04 DamOverflow
      ParticleSysBone = Spray07 DamOverflow
      ParticleSysBone = Spray08 DamOverflow
      ParticleSysBone = WaterSpray01 WaterSpraySplash
      ParticleSysBone = WaterSpray02 WaterSpraySplash
      ParticleSysBone = WaterSpray03 WaterSpraySplash
    End
    ConditionState    = REALLYDAMAGED ;25%
      Model           = NONE
      ParticleSysBone = WATERSPOUT DrainPipeWater1
    End
    ConditionState    = RUBBLE ;Dead
      Model           = NONE
      ParticleSysBone = WaterSpray01 DamMist
    End
  End
 End

  ; *** ENGINEERING Parameters ***  
  KindOf            = IMMOBILE

 ReplaceModule ModuleTag_02
  Body              = ActiveBody ModuleTag_02_Override
    MaxHealth       = 99999999.0
    InitialHealth   = 99999999.0
  End
 End
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX
  End
  RemoveModule ModuleTag_03

  ; *** AUDIO Parameters ***
  SoundAmbient = DamDamageLoop3
  SoundAmbientDamaged = Amb_WaterRiverLoop
  SoundAmbientReallyDamaged = Amb_WaterStreamLoop
  SoundAmbientRubble = DamDamageLoop2
End

; -----------------------------------------------------------------------------
; Pretty Aurora Bombs
;
; From: https://www.youtube.com/watch?v=oRd6akDSUh0
; Author: AGX750
; -----------------------------------------------------------------------------

Object AuroraBomb
 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override
    DefaultConditionState
      Model = ExMsslTm
    End
  End
 End
 Scale = 1.10
End

Object SupW_AuroraFuelAirBomb
 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override
    DefaultConditionState
      Model = ExMsslTm
    End
  End
 End
 Scale = 1.30
End

; -----------------------------------------------------------------------------
; Remove Tutorials
; -----------------------------------------------------------------------------

Object TechArtilleryPlatform
DisplayName = OBJECT:FireBase ;TOOLTIP:TechBuilding
End

Object TechHospital
DisplayName = TOOLTIP:TechBuilding
End

Object TechOilDerrick
DisplayName = OBJECT:OilRefinery ;TOOLTIP:TechBuilding
End

Object TechOilRefinery
DisplayName = OBJECT:OilRefinery ;TOOLTIP:TechBuilding
End

Object TechReinforcementPad
DisplayName = TOOLTIP:TechBuilding
End

Object TechRepairbay
DisplayName = TOOLTIP:TechBuilding
End

Object TechRepairPad
DisplayName = TOOLTIP:TechBuilding
End

; -----------------------------------------------------------------------------
; Dam
; -----------------------------------------------------------------------------

Object Dam
  ; *** ENGINEERING Parameters ***  
  KindOf              = STRUCTURE SELECTABLE IMMOBILE IMMUNE_TO_CAPTURE
End

; -----------------------------------------------------------------------------
; Supplies
; -----------------------------------------------------------------------------

Object SupplyDock
  DisplayName = OBJECT:SupplyPile
End

Object SupplyPileSmall
  DisplayName = OBJECT:SupplyPile
End

Object SupplyWarehouse
  DisplayName = OBJECT:SupplyPile
End

Object ToxinRepository
  DisplayName = OBJECT:SupplyPile

  ; Note - kindof is nocollide because they are immortalbody, and this allows units that end up inside to be shot.  jba.
  KindOf              = STRUCTURE IMMOBILE SELECTABLE SUPPLY_SOURCE_ON_PREVIEW NO_COLLIDE SUPPLY_SOURCE
  RadarPriority       = STRUCTURE
End

; -----------------------------------------------------------------------------
; Supply Lines upgrade fixes
; -----------------------------------------------------------------------------

; Correct the tooltip

CommandButton Command_UpgradeAmericaSupplyLines
  Command       = PLAYER_UPGRADE
  Upgrade       = Upgrade_AmericaSupplyLines
  TextLabel     = CONTROLBAR:UpgradeAmericaSupplyLines
  ButtonImage   = SAsupplyline
  ButtonBorderType        = UPGRADE ; Identifier for the User as to what kind of button this is
  DescriptLabel           = TooltipUSAUpgradeSupplyLines
End

CommandSet New_AmericaStrategyCenterCommandSet
  1 = Command_InitiateBattlePlanBombardment
  2 = Command_CIAIntelligence
  3 = Command_InitiateBattlePlanHoldTheLine
; 4 = Command_UpgradeAmericaSentryDroneGun
  5 = Command_InitiateBattlePlanSearchAndDestroy
  6 = Command_UpgradeAmericaChemicalSuits
  7 = Command_UpgradeAmericaMOAB
  8 = Command_UpgradeAmericaCompositeArmor
  9 = Command_UpgradeAmericaAdvancedTraining
 10 = Command_UpgradeAmericaDroneArmor
 11 = Command_StrategyCenter_Stop
 13 = Command_UpgradeAmericaSupplyLines
 14 = Command_Sell   
End

Object AmericaStrategyCenter
  CommandSet = New_AmericaStrategyCenterCommandSet
End

CommandSet New_AirF_AmericaStrategyCenterCommandSet
  1 = Command_InitiateBattlePlanBombardment
  2 = Command_CIAIntelligence
  3 = Command_InitiateBattlePlanHoldTheLine
; 4 = Command_UpgradeAmericaSentryDroneGun
  5 = Command_InitiateBattlePlanSearchAndDestroy
  6 = Command_UpgradeAmericaChemicalSuits
  7 = Command_UpgradeAmericaMOAB
; 8 = Command_UpgradeAmericaCompositeArmor
  9 = Command_UpgradeAmericaAdvancedTraining
 10 = Command_UpgradeAmericaDroneArmor
 11 = Command_StrategyCenter_Stop
 12 = AirF_Command_CarpetBomb
 13 = Command_UpgradeAmericaSupplyLines
 14 = Command_Sell
End

Object AirF_AmericaStrategyCenter
  CommandSet = New_AirF_AmericaStrategyCenterCommandSet
End

CommandSet New_Lazr_AmericaStrategyCenterCommandSet
  1 = Command_InitiateBattlePlanBombardment
  2 = Command_CIAIntelligence
  3 = Command_InitiateBattlePlanHoldTheLine
; 4 = Command_UpgradeAmericaSentryDroneGun
  5 = Command_InitiateBattlePlanSearchAndDestroy
  6 = Command_UpgradeAmericaChemicalSuits
  7 = Command_UpgradeAmericaMOAB
  8 = Command_UpgradeAmericaCompositeArmor
  9 = Command_UpgradeAmericaAdvancedTraining
 10 = Command_UpgradeAmericaDroneArmor
 11 = Command_StrategyCenter_Stop
 13 = Command_UpgradeAmericaSupplyLines
 14 = Command_Sell   
End

Object Lazr_AmericaStrategyCenter
  CommandSet = New_Lazr_AmericaStrategyCenterCommandSet
End

CommandSet New_SupW_AmericaStrategyCenterCommandSet
  1 = Command_InitiateBattlePlanBombardment
  2 = Command_CIAIntelligence
  3 = Command_InitiateBattlePlanHoldTheLine
; 4 = Command_UpgradeAmericaSentryDroneGun
  5 = Command_InitiateBattlePlanSearchAndDestroy
  6 = Command_UpgradeAmericaChemicalSuits
  7 = Command_UpgradeAmericaMOAB
; 8 = Command_UpgradeAmericaCompositeArmor
  9 = Command_UpgradeAmericaAdvancedTraining
 10 = Command_UpgradeAmericaDroneArmor
 11 = Command_StrategyCenter_Stop
 13 = Command_UpgradeAmericaSupplyLines
 14 = Command_Sell   
End

Object SupW_AmericaStrategyCenter
  CommandSet = New_SupW_AmericaStrategyCenterCommandSet
End

; Correct upgrade cameos

Object AmericaSupplyCenter
  UpgradeCameo1 = NONE
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object AirF_AmericaSupplyCenter
  UpgradeCameo1 = NONE
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object Lazr_AmericaSupplyCenter
  UpgradeCameo1 = NONE
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object SupW_AmericaSupplyCenter
  UpgradeCameo1 = NONE
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object TechOilDerrick
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object AmericaVehicleChinook
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object AFG_AmericaVehicleChinook
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object AirF_AmericaVehicleChinook
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object Lazr_AmericaVehicleChinook
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

Object SupW_AmericaVehicleChinook
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  UpgradeCameo2 = NONE
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE
End

; We remove the Supply Lines upgrade cameo from the Supply Center in "Supply Centers build Supply Trucks"

; -----------------------------------------------------------------------------
; Supply Centers build Supply Trucks
; -----------------------------------------------------------------------------

Object Boss_VehicleSupplyTruck
  Prerequisites
    Object = AmericaSupplyCenter AirF_AmericaSupplyCenter Lazr_AmericaSupplyCenter SupW_AmericaSupplyCenter
  End
End

CommandButton Boss_Command_ConstructChinaVehicleSupplyTruck
  Command       = UNIT_BUILD
  Object        = Boss_VehicleSupplyTruck
  TextLabel     = USA_Supply_Truck
  ButtonImage   = SNSupplyTruck
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipChinaBuildSupplyTruck
End

CommandSet New_AmericaSupplyCenterCommandSet
  1 = Boss_Command_ConstructChinaVehicleSupplyTruck
 13 = Command_SetRallyPoint
 14 = Command_Sell  
End

Object AmericaSupplyCenter
  CommandSet = New_AmericaSupplyCenterCommandSet

  ReplaceModule ModuleTag_12
    Behavior = SpawnBehavior ModuleTag_12_Override
      SpawnNumber = 1
      SpawnReplaceDelay = 9999
      SpawnTemplateName = Boss_VehicleSupplyTruck
      OneShot = Yes
      CanReclaimOrphans = No
      SlavesHaveFreeWill = Yes
    End
  End

  ReplaceModule ModuleTag_13
    Behavior = SupplyCenterDockUpdate ModuleTag_13_Override
      AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
      NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
    End
  End
End

Object AirF_AmericaSupplyCenter
  CommandSet = New_AmericaSupplyCenterCommandSet

  ReplaceModule ModuleTag_12
    Behavior = SpawnBehavior ModuleTag_12_Override
      SpawnNumber = 1
      SpawnReplaceDelay = 9999
      SpawnTemplateName = Boss_VehicleSupplyTruck
      OneShot = Yes
      CanReclaimOrphans = No
      SlavesHaveFreeWill = Yes
    End
  End

  ReplaceModule ModuleTag_13
    Behavior = SupplyCenterDockUpdate ModuleTag_13_Override
      AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
      NumberApproachPositions = 9 ; This is a Boneless dock, so this means infinite can approach
    End
  End
End

Object Lazr_AmericaSupplyCenter
  CommandSet = New_AmericaSupplyCenterCommandSet

  ReplaceModule ModuleTag_12
    Behavior = SpawnBehavior ModuleTag_12_Override
      SpawnNumber = 1
      SpawnReplaceDelay = 9999
      SpawnTemplateName = Boss_VehicleSupplyTruck
      OneShot = Yes
      CanReclaimOrphans = No
      SlavesHaveFreeWill = Yes
    End
  End

  ReplaceModule ModuleTag_13
    Behavior = SupplyCenterDockUpdate ModuleTag_13_Override
      AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
      NumberApproachPositions = 9 ; This is a Boneless dock, so this means infinite can approach
    End
  End
End

Object SupW_AmericaSupplyCenter
  CommandSet = New_AmericaSupplyCenterCommandSet

  ReplaceModule ModuleTag_12
    Behavior = SpawnBehavior ModuleTag_12_Override
      SpawnNumber = 1
      SpawnReplaceDelay = 9999
      SpawnTemplateName = Boss_VehicleSupplyTruck
      OneShot = Yes
      CanReclaimOrphans = No
      SlavesHaveFreeWill = Yes
    End
  End

  ReplaceModule ModuleTag_13
    Behavior = SupplyCenterDockUpdate ModuleTag_13_Override
      AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
      NumberApproachPositions = 9 ; This is a Boneless dock, so this means infinite can approach
    End
  End
End

; -----------------------------------------------------------------------------
; Airfields build Chinooks
; -----------------------------------------------------------------------------

Object AmericaVehicleChinook
  Prerequisites
    Object = AmericaSupplyCenter
    Object = AmericaAirfield
  End
End

Object AFG_AmericaVehicleChinook
  Prerequisites
    Object = AirF_AmericaSupplyCenter
    Object = AirF_AmericaAirfield
  End
End

Object AirF_AmericaVehicleChinook
  Prerequisites
    Object = AirF_AmericaSupplyCenter
    Object = AirF_AmericaAirfield
  End
End

Object Lazr_AmericaVehicleChinook
  Prerequisites
    Object = Lazr_AmericaSupplyCenter
    Object = Lazr_AmericaAirfield
  End
End

Object SupW_AmericaVehicleChinook
  Prerequisites
    Object = SupW_AmericaSupplyCenter
    Object = SupW_AmericaAirfield
  End
End

CommandButton Command_ConstructAmericaVehicleChinook
  Command       = UNIT_BUILD
  Object        = AmericaVehicleChinook
  TextLabel     = Airfield_Chinook
  ButtonImage   = SAChinook
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABUildChinook
End

CommandSet New_AmericaAirfieldCommandSet
  1 = Command_ConstructAmericaJetRaptor
  2 = Command_ConstructAmericaVehicleComanche
  3 = Command_ConstructAmericaJetAurora
  4 = Command_ConstructAmericaJetStealthFighter
  5 = Command_ConstructAmericaVehicleChinook
  7 = Command_UpgradeComancheRocketPods
  8 = Command_UpgradeAmericaLaserMissiles
  9 = Command_UpgradeAmericaCountermeasures
 10 = Command_UpgradeAmericaBunkerBusters
 13 = Command_SetRallyPoint
 14 = Command_Sell 
End

Object AmericaAirfield
  CommandSet = New_AmericaAirfieldCommandSet
End

CommandButton AirF_Command_ConstructAFGChinook 
  Command       = UNIT_BUILD
  Object        = AFG_AmericaVehicleChinook
  TextLabel     = Airfield_Chinook
  ButtonImage   = SAChinook
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABUildChinook
End

CommandButton AirF_Command_ConstructAmericaVehicleChinook
  Command       = UNIT_BUILD
  Object        = AirF_AmericaVehicleChinook
  TextLabel     = Airfield_Combat_Chinook
  ButtonImage   = SAComChinok
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:AirF_ToolTipUSABUildChinook
End

CommandSet New_AirF_AmericaAirfieldCommandSet
  1 = AirF_Command_ConstructAmericaJetRaptor
  2 = AirF_Command_ConstructAmericaVehicleComanche
  3 = AirF_Command_ConstructAmericaJetAurora
  4 = AirF_Command_ConstructAmericaJetStealthFighter
  5 = AirF_Command_ConstructAFGChinook
  6 = AirF_Command_ConstructAmericaVehicleChinook
  7 = Command_UpgradeComancheRocketPods
  8 = AirF_Command_UpgradeAmericaLaserMissiles
  9 = Command_UpgradeAmericaCountermeasures
 10 = Command_UpgradeAmericaBunkerBusters
 11 = AirF_Command_UpgradeStealthComanche
 13 = Command_SetRallyPoint
 14 = Command_Sell 
End

Object AirF_AmericaAirfield
  CommandSet = New_AirF_AmericaAirfieldCommandSet
End

CommandSet New_Lazr_AmericaAirfieldCommandSet
  1 = Lazr_Command_ConstructAmericaJetRaptor
  2 = Lazr_Command_ConstructAmericaVehicleComanche
  3 = Lazr_Command_ConstructAmericaJetAurora
  4 = Lazr_Command_ConstructAmericaJetStealthFighter
  5 = Lazr_Command_ConstructAmericaVehicleChinook
  7 = Command_UpgradeComancheRocketPods
  8 = Command_UpgradeAmericaLaserMissiles
  9 = Command_UpgradeAmericaCountermeasures
 10 = Command_UpgradeAmericaBunkerBusters
 13 = Command_SetRallyPoint
 14 = Command_Sell 
End

CommandButton Lazr_Command_ConstructAmericaVehicleChinook
  Command       = UNIT_BUILD
  Object        = Lazr_AmericaVehicleChinook
  TextLabel     = Airfield_Chinook
  ButtonImage   = SAChinook
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABUildChinook
End

Object Lazr_AmericaAirfield
  CommandSet = New_Lazr_AmericaAirfieldCommandSet
End

CommandButton SupW_Command_ConstructAmericaVehicleChinook
  Command       = UNIT_BUILD
  Object        = SupW_AmericaVehicleChinook
  TextLabel     = Airfield_Chinook
  ButtonImage   = SAChinook
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABUildChinook
End

CommandSet New_SupW_AmericaAirfieldCommandSet
  1 = SupW_Command_ConstructAmericaJetRaptor
  2 = SupW_Command_ConstructAmericaVehicleComanche
  3 = SupW_Command_ConstructAmericaJetAurora
  4 = SupW_Command_ConstructAmericaJetStealthFighter
  5 = SupW_Command_ConstructAmericaVehicleChinook
  7 = Command_UpgradeComancheRocketPods
  8 = Command_UpgradeAmericaLaserMissiles
  9 = Command_UpgradeAmericaCountermeasures
 10 = Command_UpgradeAmericaBunkerBusters
 13 = Command_SetRallyPoint
 14 = Command_Sell 
End

Object SupW_AmericaAirfield
  CommandSet = New_SupW_AmericaAirfieldCommandSet
End

; -----------------------------------------------------------------------------
; Civilian Dozer
; -----------------------------------------------------------------------------

CommandSet New_DozerCommandSet
  14 = Command_DisarmMinesAtPosition
End

Object Boss_VehicleDozer

  CommandSet = New_DozerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerUSAVoiceSelect
  VoiceMove           = DozerUSAVoiceMove
  VoiceEnter          = DozerUSAVoiceMove
  VoiceGuard          = DozerUSAVoiceMove
  VoiceTaskComplete   = NoSound
  SoundMoveStart      = DozerUSAMoveStart
  SoundMoveStartDamaged = DozerUSAMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = DozerUSAVoiceCreate
    VoiceNoBuild          = DozerUSAVoiceBuildNot
    VoiceCrush            = DozerUSAVoiceCrush
    VoiceRepair           = DozerUSAVoiceRepair
    VoiceDisarm           = DozerUSAVoiceClearMine
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceEnter            = DozerUSAVoiceMove
    VoiceBuildResponse    = DozerUSAVoiceBuild
  End
End

; -----------------------------------------------------------------------------
; Militia Tank
; -----------------------------------------------------------------------------

Object MilitiaTank
  ; *** ART Parameters ***
  SelectPortrait         = SSTankDrop
  ButtonImage            = SSTankDrop

  ; *** AUDIO Parameters ***
  VoiceSelect = TechnicalVoiceSelect
  VoiceMove = ScorpionTankVoiceMove
  VoiceAttack = ScorpionTankVoiceAttack
  SoundMoveStart = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart
  VoiceGuard = ScorpionTankVoiceMove

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = NoSound
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = ScorpionTankVoiceMove
  End
End

; -----------------------------------------------------------------------------
; Reinforcement Pads drop Militia Tanks
;
; From: http://www.cnclabs.com/forums/cnc_postst9645_editing-output-of-reinforcement-pads.aspx
; Author: Annihilationzh
; -----------------------------------------------------------------------------

ObjectCreationList OCL_ReinforcementPadUSAVehicle
  DeliverPayload
    Transport = AmericaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_ReinforcementPadCHIVehicle
  DeliverPayload
    Transport = ChinaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_ReinforcementPadGLAVehicle
  DeliverPayload
    Transport = GLAJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_SWGen_ReinforcementPadUSAVehicle
  DeliverPayload
    Transport = AmericaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_LGen_ReinforcementPadUSAVehicle
  DeliverPayload
    Transport = AmericaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_AFGen_ReinforcementPadUSAVehicle
  DeliverPayload
    Transport = AmericaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_InfGen_ReinforcementPadCHIVehicle
  DeliverPayload
    Transport = ChinaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_TnkGen_ReinforcementPadCHIVehicle
  DeliverPayload
    Transport = ChinaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_NukeGen_ReinforcementPadCHIVehicle
  DeliverPayload
    Transport = ChinaJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_ToxGen_ReinforcementPadGLAVehicle
  DeliverPayload
    Transport = GLAJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_DemoGen_ReinforcementPadGLAVehicle
  DeliverPayload
    Transport = GLAJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 2
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

ObjectCreationList OCL_StlthGen_ReinforcementPadGLAVehicle
  DeliverPayload
    Transport = GLAJetCargoPlane
    StartAtPreferredHeight = Yes
    StartAtMaxSpeed = Yes
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-5
    DropDelay = 400
    PutInContainer = LargeParachute
    Payload = MilitiaTank 1
    ParachuteDirectly = Yes ; will tell all contained parachutes to go ahead and bunch
    ; up on the target instead of parachuting to the spot below their drop point.
    DeliveryDistance = 250
  End
End

; -----------------------------------------------------------------------------
; Toxin Spraying Plane
;
; From: "America Mission 8 for Zero Hour"
; Author: Beng
; -----------------------------------------------------------------------------

;---------Hulk object for crop duster--------------------------------------------
Object CINE_CarLuxury03XXX
 ReplaceModule ModuleTag_01
  Draw                = W3DModelDraw ModuleTag_01_Override
    DefaultConditionState
      Model = CVCDTPLN_D1
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = ONCE
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 SootySmokeTrail ;SootySmokeColumn02 ;BeaconSmoke000000
    End
  End
 End

  ; ***DESIGN parameters ***
  EditorSorting       = DEBRIS
  TransportSlotCount  = 0

  ; *** ENGINEERING Parameters ***
  KindOf              =  NO_COLLIDE HULK

  CrusherLevel           = 2

 RemoveModule ModuleTag_03
 RemoveModule ModuleTag_04

 ReplaceModule ModuleTag_11
  Behavior = SlowDeathBehavior ModuleTag_11_Override
    DeathTypes = ALL
    SinkDelay = 1500 ;14000
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 10000 ;20000
    FX = INITIAL GC_Chem_WeaponFX_SCUDMissileDetonationAnthrax
    Weapon = INITIAL BombTruckDefaultBombDamage
    OCL = MIDPOINT OCL_PoisonFieldGammaMedium
  End
 End

 RemoveModule ModuleTag_05
 RemoveModule ModuleTag_06
 RemoveModule ModuleTag_07
 RemoveModule ModuleTag_08
 RemoveModule ModuleTag_09

 ReplaceModule ModuleTag_10
  Behavior = PhysicsBehavior ModuleTag_10_Override
    Mass                    = 2.0
    AllowBouncing           = No
    KillWhenRestingOnGround = Yes
  End
 End

 AddModule ModuleTag_12_Override
  Behavior = LifetimeUpdate ModuleTag_12
    MinLifetime = 1500   ; min lifetime in msec
    MaxLifetime = 2000   ; max lifetime in msec
  End
 End

End

; Eject a Terrorist via placing him the ground near the dead hulk.
ObjectCreationList OCL_EjectTerroristOnGround
  CreateObject
    ObjectNames = GC_Chem_GLAInfantryTerrorist
    IgnorePrimaryObstacle = Yes
    InheritsVeterancy = Yes
    Disposition = RANDOM_FORCE
    MinForceMagnitude = 2
    MaxForceMagnitude = 3
    MinForcePitch = 50
    MaxForcePitch = 60
    SpinRate = 0
    InvulnerableTime = 2000 ;milliseconds
    RequiresLivePlayer = Yes
  End
End

; Eject a Terrorist via direct paradrop.
ObjectCreationList OCL_EjectTerroristViaParachute
  CreateObject
    ObjectNames = GC_Chem_GLAInfantryTerrorist
    PutInContainer = AmericaParachute
    IgnorePrimaryObstacle = Yes
    InheritsVeterancy = Yes
    Disposition = RANDOM_FORCE INHERIT_VELOCITY
    MinForceMagnitude = 10
    MaxForceMagnitude = 12
    MinForcePitch = 50
    MaxForcePitch = 60
    SpinRate = 2
    InvulnerableTime = 2000 ;milliseconds
    RequiresLivePlayer = Yes
  End
End

Object GC_Chem_GLAInfantryTerrorist
  ArmorSet
    Conditions      = None
    Armor           = ChemReb_HumanArmor
    DamageFX        = InfantryDamageFX
  End
End

;for Crop Duster Slow death behaviour
ObjectCreationList OCL_CropDusterDeathHitGround
  ;This is the vertical stabilizer that rips off
  CreateDebris
    ModelNames  = NVMIG_D2
    Offset      = X:-10.388 Y:3.573 Z:2.872
    Mass        = 3
    Count       = 1
    Disposition = SEND_IT_FLYING INHERIT_VELOCITY RANDOM_FORCE
    DispositionIntensity = 0.5
    MinForcePitch = 0.0
    MaxForcePitch = 20.0
    SpinRate      = 50.0
  End

  ;The horizontal stabilizer broken off
  CreateDebris
    ModelNames  = NVMIG_D3
    Offset      = x:-9.536 Y:3.573 Z:1.334
    Mass        = 3
    Count       = 1
    Disposition = SEND_IT_FLYING INHERIT_VELOCITY RANDOM_FORCE
    DispositionIntensity = 0.5
    MinForcePitch = 0.0
    MaxForcePitch = 30.0
    SpinRate      = 30.0
  End

  ;engine rip off
  CreateDebris
    ModelNames  = AVWarthog_D3
    Offset      = X:-2.822 Y:-6.425 Z:0.234
    Mass        = 3
    Count       = 1
    Disposition = SEND_IT_FLYING INHERIT_VELOCITY RANDOM_FORCE
    DispositionIntensity = 1.5
    MinForcePitch = 0.0
    MaxForcePitch = 30.0
    SpinRate      = 30.0
    MinLifetime   = 4000
    MaxLifetime   = 6000
  End
End

;After hitting the ground, a delay defined by the JetSlowDeathBehavior module
;determines when the jet is finally destroyed and removed from the game world
ObjectCreationList OCL_CropDusterDeathFinalBlowUp
  CreateObject
    ObjectNames = CINE_CarLuxury03XXX ;AmericaJetRaptorHulk
    Offset      = X:0.0 Y:0.0 Z:0.0
    Count       = 1
    Disposition = SEND_IT_FLYING INHERIT_VELOCITY RANDOM_FORCE
    DispositionIntensity = 0.4
    MinForcePitch = 0.0
    MaxForcePitch = 10.0
    RollRate      = 0.1 ;0.0
    PitchRate     = 0.2 ;0.0
    YawRate       = 0.0
  End
End

;see also AnthraxGammaPuddleContinuous
ParticleSystem CropDusterPoisonLeft
  Priority = AREA_EFFECT
  IsOneShot = No
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXDrtExp01.tga ;EXPuddle.tga
  AngleZ = 0.00 0.00
  AngularRateZ = -0.10 0.10
  AngularDamping = 0.95 0.95
  VelocityDamping = 0.95 0.90
  Gravity = 0.02
  Lifetime = 30.00 80.00 ;30.00
  SystemLifetime = 0
  Size = 1.00 1.00
  StartSizeRate = 0.00 0.00
  SizeRate = 1.50 3.00
  SizeRateDamping = 0.98 0.95
  Alpha1 = 1.00 1.00 0
  Alpha2 = 0.00 0.00 30
  Alpha3 = 0.00 0.00 0
  Alpha4 = 0.00 0.00 0
  Alpha5 = 0.00 0.00 0
  Alpha6 = 0.00 0.00 0
  Alpha7 = 0.00 0.00 0
  Alpha8 = 0.00 0.00 0
  Color1 = R:0 G:0 B:0 0
  Color2 = R:128 G:55 B:217 50
  Color3 = R:0 G:0 B:0 100
;  Color1 = R:255 G:255 B:255 50
;  Color2 = R:0 G:0 B:0 0
;  Color3 = R:0 G:0 B:0 0
  Color4 = R:0 G:0 B:0 0
  Color5 = R:0 G:0 B:0 0
  Color6 = R:0 G:0 B:0 0
  Color7 = R:0 G:0 B:0 0
  Color8 = R:0 G:0 B:0 0
  ColorScale = 0.01 0.10
  BurstDelay = 0.00 0.00
  BurstCount = 0.00 2.00
  InitialDelay = 0.00 0.00
  DriftVelocity = X:0.00 Y:0.00 Z:0.00
  VelocityType = ORTHO
  VelOrthoX = -1.50 -1.00
  VelOrthoY = 0.50 0.50
  VelOrthoZ = 0.50 0.50
  VolumeType = LINE
  VolLineStart = X:0.00   Y:14.00 Z:2.6     ;X:-5.00 Y:8.00 Z:0.00
  VolLineEnd =   X:-50.00 Y:14.00 Z:-30.00  ;X:15.00 Y:8.00 Z:0.00
  IsHollow = No
  IsGroundAligned = No
  IsEmitAboveGroundOnly = No
  IsParticleUpTowardsEmitter = No
  WindMotion = Unused
  WindAngleChangeMin = 0.149924
  WindAngleChangeMax = 0.449946
  WindPingPongStartAngleMin = 0.000000
  WindPingPongStartAngleMax = 0.785398
  WindPingPongEndAngleMin = 5.497787
  WindPingPongEndAngleMax = 6.283185
End

ParticleSystem CropDusterPoisonRight
  Priority = AREA_EFFECT
  IsOneShot = No
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXDrtExp01.tga ;EXPuddle.tga
  AngleZ = 0.00 0.00
  AngularRateZ = -0.10 0.10
  AngularDamping = 0.95 0.95
  VelocityDamping = 0.95 0.90
  Gravity = 0.02
  Lifetime = 30.00 80.00 ;30.00
  SystemLifetime = 0
  Size = 1.00 1.00
  StartSizeRate = 0.00 0.00
  SizeRate = 1.50 3.00
  SizeRateDamping = 0.98 0.95
  Alpha1 = 1.00 1.00 0
  Alpha2 = 0.00 0.00 30
  Alpha3 = 0.00 0.00 0
  Alpha4 = 0.00 0.00 0
  Alpha5 = 0.00 0.00 0
  Alpha6 = 0.00 0.00 0
  Alpha7 = 0.00 0.00 0
  Alpha8 = 0.00 0.00 0
  Color1 = R:0 G:0 B:0 0
  Color2 = R:128 G:55 B:217 50
  Color3 = R:0 G:0 B:0 100
;  Color1 = R:255 G:255 B:255 50
;  Color2 = R:0 G:0 B:0 0
;  Color3 = R:0 G:0 B:0 0
  Color4 = R:0 G:0 B:0 0
  Color5 = R:0 G:0 B:0 0
  Color6 = R:0 G:0 B:0 0
  Color7 = R:0 G:0 B:0 0
  Color8 = R:0 G:0 B:0 0
  ColorScale = 0.01 0.10
  BurstDelay = 0.00 0.00
  BurstCount = 0.00 2.00
  InitialDelay = 0.00 0.00
  DriftVelocity = X:0.00 Y:0.00 Z:0.00
  VelocityType = ORTHO
  VelOrthoX = -1.50 -1.00
  VelOrthoY = -0.50 -0.50
  VelOrthoZ = 0.50 0.50
  VolumeType = LINE
  VolLineStart = X:0.00   Y:-14.00 Z:2.6     ;X:-5.00 Y:-8.00 Z:0.00
  VolLineEnd =   X:-50.00 Y:-14.00 Z:-30.00  ;X:15.00 Y:-8.00 Z:0.00
  IsHollow = No
  IsGroundAligned = No
  IsEmitAboveGroundOnly = No
  IsParticleUpTowardsEmitter = No
  WindMotion = Unused
  WindAngleChangeMin = 0.149924
  WindAngleChangeMax = 0.449946
  WindPingPongStartAngleMin = 0.000000
  WindPingPongStartAngleMax = 0.785398
  WindPingPongEndAngleMin = 5.497787
  WindPingPongEndAngleMax = 6.283185
End

AudioEvent CivPropPlaneAmbientLoop
  Sounds = vprolo1a vprolo1b vprolo1c vprolo1d vprolo1e vprolo1f
  Decay = vprolo1g
  Control = loop all random
  Priority = low
  Limit = 2
  Volume = 100
  MinRange = 140
  MaxRange = 400
  VolumeShift = -10 10
  PitchShift = -10 10
  Type = world everyone
End

Locomotor CINE_USA08_ComancheLocomotor
  Surfaces           = AIR
  Speed              = 60
  SpeedDamaged       = 50
  MinSpeed           = 30
  TurnRate           = 180
  MinTurnSpeed       = 10
  TurnRateDamaged    = 180
  Acceleration       = 60
  AccelerationDamaged = 50
  Lift               = 80 ;120
  LiftDamaged        = 60 ;80
  Braking            = 10
  PreferredHeight    = 65 ;50
  AllowAirborneMotiveForce = Yes
  ZAxisBehavior      = RELATIVE_TO_HIGHEST_LAYER
  Appearance         = WINGS

  PitchInDirectionOfZVelFactor = 1.0 ;  how much to pitch according to our z-vel. 0=none, 1=lots (0=default)
  PitchStiffness     = 0.5
  RollStiffness      = 0.1
  PitchDamping       = 0.9
  RollDamping        = 0.8 ;0.9
  ForwardVelocityPitchFactor = -0.05
  LateralVelocityRollFactor = 0.1
  Apply2DFrictionWhenAirborne = Yes
  AirborneTargetingHeight = 15
  MaxThrustAngle     = 60
  LocomotorWorksWhenDead = Yes
  CirclingRadius     = 100 ; the radius at which we circle when we are trying to maintain position.
  ; (pos = clockwise, neg = ccw, 0 = calc smallest possible radius given our speed, turning, etc)
  LocomotorWorksWhenDead = Yes          ; HelicopterSlowDeathBehavior needs this to function correctly
End

;Crop Duster / Toxin Spray Plane
Object AircraftCropDuster

  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot

  UpgradeCameo1 = Upgrade_GLAAPBullets
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = Upgrade_ChinaAircraftArmor
  ;UpgradeCameo4 = Upgrade_AmericaCountermeasures

 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override
    ;OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CVCDTPLN
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = LOOP
    End

    ConditionState = MOVING
      Model = CVCDTPLN
      Animation = CVCDTPLN.CVCDTPLN
      AnimationSpeedFactorRange = 2.0 2.0
      AnimationMode = LOOP
    End
    AliasConditionState = JETEXHAUST

    ConditionState = USING_WEAPON_B
      Model = CVCDTPLN
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone = None CropDusterPoisonLeft
      ParticleSysBone = None CropDusterPoisonRight
    End

    ConditionState = REALLYDAMAGED
      Model = CVCDTPLN_D
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = ONCE ;LOOP
      ParticleSysBone = SMOKE01 FireSmallContinuous
      ParticleSysBone = SMOKE02 SootySmokeTrail
    End

    ConditionState = USING_WEAPON_B REALLYDAMAGED
      Model = CVCDTPLN_D
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = ONCE ;LOOP
      ParticleSysBone = SMOKE01 FireSmallContinuous
      ParticleSysBone = SMOKE02 SootySmokeTrail
      ParticleSysBone = none CropDusterPoisonLeft
      ParticleSysBone = none CropDusterPoisonRight
    End
    ;AliasConditionState = REALLYDAMAGED RUBBLE

    ConditionState = RUBBLE
      Model = CVCDTPLN_D1
      Animation = CVCDTPLN.CVCDTPLN
      AnimationMode = ONCE
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 SootySmokeColumn02 ;BeaconSmoke000000
    End

  End
 End

  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions         = None
    Weapon             = PRIMARY     Chem_TunnelNetworkGunGamma
    Weapon             = SECONDARY   Chem_ToxinTruckSprayerGamma
    Weapon             = TERTIARY    GattlingBuildingGunAir
    PreferredAgainst   = TERTIARY    BALLISTIC_MISSILE AIRCRAFT
    ShareWeaponReloadTime = No
  End

  ArmorSet
    Armor              = ToxinTruckArmor
    DamageFX           = None
  End

  DisplayName        = Toxin_CropDuster
  Buildable          = Yes
  BuildTime          = 20.0
  BuildCost          = 2000
  ;MaxSimultaneousOfType = 2

  VisionRange        = 160
  ShroudClearingRange = 200

  IsTrainable        = Yes
  ExperienceRequired = 0 100 200 400
  ExperienceValue    = 50 100 150 200

  CrushableLevel     = 2
  CrusherLevel       = 1

  CommandSet         = GLAVehicleToxinTruckCommandSet ;Demo_GLAVehicleToxinTruckCommandSetUpgrade
  RadarPriority      = UNIT

  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT ;aircraft can't be made into carbombs

  ; *** AUDIO Parameters ***
  SoundAmbient = CivPropPlaneAmbientLoop
  VoiceSelect        = ToxinTractorVoiceSelect
  VoiceMove          = ToxinTractorVoiceMove
  VoiceGuard         = ToxinTractorVoiceMove
  VoiceAttack        = ToxinTractorVoiceAttack
  VoiceAttackAir     = QuadCannonVoiceAttackAir
  UnitSpecificSounds
    VoiceCreate        = ToxinTractorVoiceCreate
    VoiceEnter         = ToxinTractorVoiceMove
    VoicePoisonLocation = ToxinTractorVoiceAttackContam
  End

 ReplaceModule ModuleTag_02
  Body = ActiveBody ModuleTag_02_Override
    MaxHealth          = 300.0
    InitialHealth      = 300.0
  End
 End

 RemoveModule ModuleTag_09
 AddModule ModuleTag_09A_Override
  Behavior = JetAIUpdate ModuleTag_09A
    MinHeight                     = 1 ;5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    TakeoffDistForMaxLift         = 50% ; larger numbers give more lift sooner when taking off
    TakeoffPause = 0 ;500

    AttackLocomotorType         = SET_PANIC
    AttackLocomotorPersistTime  = 5000
    ReturnForAmmoLocomotorType  = SET_PANIC
    OutOfAmmoDamagePerSecond    = 0%

    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the toxin sprayer to be able to. so we give it
    ; "turrets" (invisible)
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY TERTIARY
    End
    AltTurret
      TurretTurnRate   = 360
      TurretPitchRate  = 360
      AllowsPitch      = Yes
      MinPhysicalPitch = -90
      ControlledWeaponSlots = SECONDARY
    End
    TurretsLinked = No
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
 End
  Locomotor = SET_TAXIING WanderCarLocomotor
  Locomotor = SET_NORMAL CINE_USA08_ComancheLocomotor ;TechnicalLocomotor ;used for taxiing by scripts and now for takeoff run by player
  Locomotor = SET_WANDER CINE_USA08_ComancheLocomotor ;RocketBuggyLocomotor ;was used for takeoff run by script
  Locomotor = SET_PANIC  CINE_USA08_ComancheLocomotor ;flying

 AddModule ModuleTag_14_Override
  Behavior = FireOCLAfterWeaponCooldownUpdate ModuleTag_14
    WeaponSlot         = SECONDARY
    OCL                = OCL_PoisonFieldGammaMedium
    MinShotsToCreateOCL = 4
    OCLLifetimePerSecond = 10000
    OCLLifetimeMaxCap  = 180000
  End
 End

 AddModule ModuleTag_Hnt_Override
  Behavior = CommandButtonHuntUpdate  ModuleTag_Hnt ; allows use of command button hunt script with this unit.
  End
 End

 ;----Death-----------------
 RemoveModule ModuleTag_DeathTag03 ;DestroyDie

 RemoveModule ModuleTag_DeathTag04 ;OCL_GenericCarExplode OCL_DaisyCutterExplode

 RemoveModule ModuleTag_DeathTag05 ;FXListDie FX_JetDeathExplosion ;FX_JetDeathSecondary

 AddModule ModuleTag_SlwDth_Override
  Behavior                          = JetSlowDeathBehavior ModuleTag_SlwDth
    DestructionDelay                = 9000 ;99999999; destruction will happen when we

    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.1 ;0.0
    FallHowFast                     = 80.0% ;110.0% for raptor, 25% for big planes ;Bigger is faster (can be over 100%,it's a fraction of gravity)

    FXInitialDeath                  = FX_JetDeathInitial ;FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial

    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathInitial ;None

    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_CropDusterDeathHitGround

    DelayFinalBlowUpFromHitGround   = 1500 ;200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp_CinematicVersion
    OCLFinalBlowUp                  = OCL_CropDusterDeathFinalBlowUp

    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_CropDusterDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
 End

 ;-----Upgrades------------------------------
 AddModule ModuleTag_AutoHeal_Override
  Behavior = AutoHealBehavior ModuleTag_AutoHeal
    HealingAmount      = 6
    HealingDelay       = 1000
    TriggeredBy        = Upgrade_GLAJunkRepair
  End
 End

 AddModule ModuleTag_WpnBns_Override
  Behavior = WeaponBonusUpgrade ModuleTag_WpnBns
    TriggeredBy = Upgrade_GLAAPBullets
  End
 End

 AddModule ModuleTag_MigArmor_Override
  Behavior        = MaxHealthUpgrade ModuleTag_MigArmor
    TriggeredBy   = Upgrade_ChinaAircraftArmor
    AddMaxHealth  = 400.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
 End

 AddModule ModuleTag_Flares_Override
  Behavior                = CountermeasuresBehavior ModuleTag_Flares
    TriggeredBy           = Upgrade_GLAJunkRepair ;Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.5   ;1.0 ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 2500  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
 End

 AddModule ModuleTag_Eject_Override
  Behavior = EjectPilotDie ModuleTag_Eject
    ;ExemptStatus    = HIJACKED
    GroundCreationList = OCL_EjectTerroristOnGround
    AirCreationList = OCL_EjectTerroristViaParachute
    VeterancyLevels = ALL ; -REGULAR ;only vet+ gives pilot
  End
 End

End

; -----------------------------------------------------------------------------
; Human Cannonball Launcher
;
; From: "America Mission 8 for Zero Hour"
; Author: Beng
; -----------------------------------------------------------------------------

;CINE_ChinaVehicleNukeLauncher Launches demo terrorist or toxin terrorist
;Weapons: CINE_SCUDLauncherGunExplosive launches CINE_SCUDMissile (terrorist) to 350 range
;upgrade to toxin shells gives it toxin terrorist effects
;  PrimaryDamage               = 300.0
;  PrimaryDamageRadius         = 50.0
;  SecondaryDamage             = 50.0
;  SecondaryDamageRadius       = 100.0
ObjectCreationList OCL_TerroristKilledInMidAir
  CreateDebris
    ModelNames = UITRST_SKN
    AnimationSet = UITRST_SKL.UITRST_ADTE1 UITRST_SKL.UITRST_ADTE2 UITRST_SKL.UITRST_ADTE3
    AnimationSet = UITECH_MAN_SKL.UITECH_MAN_DTA1 UITECH_MAN_SKL.UITECH_MAN_DTA2 UITECH_MAN_SKL.UITECH_MAN_DTA3
    AnimationSet = UITECH_MAN_SKL.UITECH_MAN_DTB1 UITECH_MAN_SKL.UITECH_MAN_DTB2 UITECH_MAN_SKL.UITECH_MAN_DTB3
    AnimationSet = UITECH_MAN_SKL.UITECH_MAN_DTC1 UITECH_MAN_SKL.UITECH_MAN_DTC2 UITECH_MAN_SKL.UITECH_MAN_DTC3
    FXFinal = FX_TechnicalGunnerHitsGround
    OkToChangeModelColor = Yes
    IgnorePrimaryObstacle = Yes
    Mass = 5.0
    Disposition = LIKE_EXISTING INHERIT_VELOCITY
    OrientInForceDirection = Yes
    ExtraBounciness = 0.8 ;-1
    BounceSound = TechnicalBodyfall
    ; no, we don't want less friction; it makes the guy look like he is sliding on ice. (srj)
    ;ExtraFriction = -3  ; reduce his ground friction a bit  (friction/sec)
  End
End

;Terrorist flying voice
AudioEvent FlyingTerroristVoice
  Sounds      = iteratd iterfeb iterfed itersef
  Control     = loop all random
  Volume      = 90
  MinRange = 100
  MaxRange = 500
  VolumeShift = -20
  Limit       = 1
  PitchShift  = 10 20
  Priority    = normal
  Type        = world shrouded everyone
End

;-----------------------------------------------------------------------------
Object CINE_SCUDMissile
 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UITRST_SKN
      Animation = UITRST_SKL.UITRST_ADTE2
      Animation = UITECH_MAN_SKL.UITECH_MAN_DTA2 ;ok
      Animation = UITECH_MAN_SKL.UITECH_MAN_DTB2 ;ok
      Animation = UITECH_MAN_SKL.UITECH_MAN_DTC2 ;ok
      AnimationMode = LOOP
      Flags         = RANDOMSTART
    End

    ConditionState = DYING
      Animation = UITRST_SKL.UITRST_ADTE3
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UITRST_SKL.UITRST_ADTE3
      AnimationMode = ONCE_BACKWARDS
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UITRST_SKL.UITRST_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UITRST_SKL.UITRST_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
  End
 End

  ExperienceValue  = 10 10 10 10
  SoundAmbient = FlyingTerroristVoice
  SoundAmbientRubble = NoSound

 ReplaceModule ModuleTag_06
  Behavior = PhysicsBehavior ModuleTag_06_Override
    Mass = 5 ;1 ;10 for inferno shell
  End
 End

 ReplaceModule ModuleTag_07
  Behavior = MissileAIUpdate ModuleTag_07_Override
    DetonateCallsKill = Yes
    TryToFollowTarget = No 
    FuelLifetime = 8500
    IgnitionDelay = 0
    IgnitionFX = FX_BuggyMissileIgnition
    DetonateOnNoFuel = No
    InitialVelocity = 20                ; in dist/sec
    DistanceToTravelBeforeTurning = 100 ;200
    DistanceToTargetBeforeDiving = 100 ;200 ; When I hit this close to target, I ignore PreferredHeight.
  End
 End
  Locomotor = SET_NORMAL NuclearCannonShellLocomotor ;SCUDMissileLocomotor

; ---- begin Projectile death behaviors

 ReplaceModule DeathModuleTag_01
  Behavior = InstantDeathBehavior DeathModuleTag_01_Override
    DeathTypes = ALL -LASERED -EXPLODED ;NONE +DETONATED
    ; we detonated normally.
    FX  = FX_TerroristExplode
    OCL = OCL_TerroristFlyingOffBikeDeathStart ;OCL_TerroristKilledInMidAir
  End
 End

 ReplaceModule DeathModuleTag_02
  Behavior = InstantDeathBehavior DeathModuleTag_02_Override
    DeathTypes = NONE +LASERED +EXPLODED
    ; shot down
    FX   = FX_TerroristDie
    OCL  = OCL_TerroristKilledInMidAir
  End
 End

 RemoveModule DeathModuleTag_03 ;InstantDeathBehavior

 AddModule ModuleTag_ToxA_Override
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_ToxA
    ;DeathTypes    = NONE +DETONATED
    DeathWeapon   = Chem_SuicideWeapon
    StartsActive  = No                      ; turned on by upgrade
    TriggeredBy   = Upgrade_GLAToxinShells
    ConflictsWith = Upgrade_GLAAnthraxBeta
  End
 End

 AddModule ModuleTag_ToxB_Override
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_ToxB
    ;DeathTypes    = NONE +DETONATED
    DeathWeapon   = Chem_SuicideWeaponBeta
    StartsActive  = No                      ; turned on by upgrade
    TriggeredBy   = Upgrade_GLAAnthraxBeta Upgrade_GLAToxinShells
    RequiresAllTriggers = Yes ;TriggeredBy is an AND, not an OR like it normally is
  End
 End

 AddModule
  Behavior = DestroyDie ModuleTag_DD
  End
 End

; ---- end Projectile death behaviors

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
End

;Human Cannonball Cannon
Object CINE_ChinaVehicleNukeLauncher

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAAPRockets
  UpgradeCameo3 = Upgrade_GLAToxinShells
  UpgradeCameo4 = Upgrade_GLAAnthraxBeta

 RemoveModule ModuleTag_01

 AddModule ModuleTag_01A_Override
  Draw              = W3DTruckDraw ModuleTag_01A
    ExtraPublicBone = BOXES

    DefaultConditionState
      Model         = CVConvoy2 ;4
      ;HideSubObject = BOXES
    End

    CabRotationMultiplier = 1.5

    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    RightFrontTireBone = Tire01
    LeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire03
    MidLeftFrontTireBone = Tire04
    MidRightMidTireBone = Tire05
    MidLeftMidTireBone = Tire06
    MidRightRearTireBone = Tire07
    MidLeftRearTireBone = Tire08
    RightRearTireBone = Tire09
    LeftRearTireBone = Tire10

    TireRotationMultiplier = 0.2   ;this * speed = rotation.

    PowerslideRotationAddition  = 2.5  ;This speed is added to the rotation speed when powersliding.
    Dust      = TechnicalDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

  End
 End

 ;--------------------Turret----------------------
 AddModule ModuleTag_01B_Override
  Draw = W3DTankDraw ModuleTag_01B ;W3DModelDraw

    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6
    OkToChangeModelColor = Yes
    AttachToBoneInAnotherModule = BOXES
    ExtraPublicBone = Turret01
    ExtraPublicBone = Muzzle01
    ExtraPublicBone = MuzzleFx01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model                           = NVNukeCn
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY MuzzleFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = CHASSIS TURRET01      ;Hide controlled turret
      ShowSubObject                   = ARM01 ARM02 ARM03 ARM04 TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End
      
    ConditionState                    = RUBBLE
      Model                           = NVNukeCn_D
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY MuzzleFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = CHASSIS TURRET01      ;Hide controlled turret
      ShowSubObject                   = ARM01 ARM02 ARM03 ARM04 TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = MANUAL
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = MANUAL
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      WeaponLaunchBone   = PRIMARY Muzzle01
      WeaponMuzzleFlash  = PRIMARY MuzzleFX01
      WeaponFireFXBone   = PRIMARY Muzzle01
      WeaponRecoilBone   = PRIMARY Barrel01
      HideSubObject   = TURRETFRONT TURRETBACK   ;Hide pack/unpack animated turret
      ShowSubObject   = ARM01 ARM02 ARM03 ARM04 TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      WeaponLaunchBone   = PRIMARY Muzzle01
      WeaponMuzzleFlash  = PRIMARY MuzzleFX01
      WeaponFireFXBone   = PRIMARY Muzzle01
      WeaponRecoilBone   = PRIMARY Barrel01
      HideSubObject   = TURRETFRONT TURRETBACK  ;Hide pack/unpack animated turret
      ShowSubObject   = ARM01 ARM02 ARM03 ARM04 TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    
    ;TrackMarks              = EXTnkTrack.tga
    ;TreadAnimationRate      = 4.0  ; amount of tread texture to move per second

  End
 End

  DisplayName = Human_Cannonball_Cannon
  Side = GLA
  TransportSlotCount = 8

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CINE_SCUDLauncherGunExplosive
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  VisionRange     = 350
  ShroudClearingRange = 380

 ReplaceModule ModuleTag_04
  Behavior = DeployStyleAIUpdate ModuleTag_04_Override
    Turret
      TurretTurnRate        = 90
      TurretPitchRate       = 90
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = Yes
      RecenterTime          = 5000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End
 End
  Locomotor       = SET_NORMAL ScudLauncherLocomotor ;SupplyTruckLocomotor

 ReplaceModule ModuleTag_06
  Behavior = SlowDeathBehavior ModuleTag_06_Override
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_BattleMasterExplosionOneFinal
    OCL = INITIAL  OCL_RadiationFieldSmall
    OCL = MIDPOINT OCL_BigRigExplode ;OCL_ChinaVehicleNukeCannonDie
    ;OCL = FINAL    OCL_RadiationFieldSmall
    FX  = FINAL    FX_ChinaVehicleNukeCannonDeathExplosion
  End
 End

 AddModule ModuleTag_Repr_Override
  Behavior = AutoHealBehavior ModuleTag_Repr
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
 End

  Geometry            = BOX
  GeometryIsSmall     = NO
  GeometryMajorRadius = 36.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 16.0
  Shadow              = SHADOW_VOLUME

End

; -----------------------------------------------------------------------------
; Build Custom GLA Vehicles
; -----------------------------------------------------------------------------

Object AircraftCropDuster
  Prerequisites
    Object = GC_Chem_GLAArmsDealer
  End
End

;Combat Bike button builds plane
CommandButton GC_Slth_Command_ConstructGLAVehicleCombatBike
  Command       = UNIT_BUILD
  Object        = AircraftCropDuster ;GLAVehicleCombatBike
  TextLabel     = ToxinCropDuster
  ButtonImage   = SAPilot ;SUComBike
  ButtonBorderType = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel    = ToxinCropDuster
End

Object CINE_ChinaVehicleNukeLauncher
  Prerequisites
    Object = GC_Chem_GLAArmsDealer
  End
End

;This builds human cannonball launcher
CommandButton GC_Chem_Command_ConstructGLAVehicleScudLauncher
  Command       = UNIT_BUILD
  Object        = CINE_ChinaVehicleNukeLauncher
  TextLabel     = CONTROLBAR:ConstructChinaVehicleNukeLauncher
  ButtonImage   = SUScudLauncher
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipChinaBuildNukeLauncher
End

CommandSet New_GLAArmsDealerCommandSet
  1  = GC_Slth_Command_ConstructGLAVehicleCombatBike ; Toxin Crop Duster
  3  = GC_Chem_Command_ConstructGLAVehicleScudLauncher ; Human Cannonball Launcher
  13 = Command_SetRallyPoint
  14 = Command_Sell
End

Object GC_Chem_GLAArmsDealer
  CommandSet = New_GLAArmsDealerCommandSet
End

; -----------------------------------------------------------------------------
; Snowman Disguise
;
; From: "Attack of the Mutant Snowmen"
; Author: Beng
; -----------------------------------------------------------------------------

Object CINE_GLAInfantryRebel

  ; *** ART Parameters ***
  SelectPortrait         = SURebel_L
  ButtonImage            = SURebel

  UpgradeCameo1 = Chem_Upgrade_GLAAnthraxGamma
  UpgradeCameo2 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo3 = Upgrade_GLACamouflage
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Frosty
  Side                = GLA
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = PMSnowman ;UIRGrd_SKN
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA 
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB 
      AnimationMode       = ONCE
      WeaponFireFXBone    = PRIMARY CYLINDER02
      WeaponLaunchBone    = PRIMARY CYLINDER02
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = UIRGrd_SKL.UIRGrd_RNA 15
      AnimationMode       = LOOP
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED

    ; ---- dying 
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA 
      Animation           = UIRGrd_SKL.UIRGrd_DTB 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Animation = UIRGrd_SKL.UIRGrd_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End

    TransitionState = TRANS_Standing TRANS_Firing
      Animation = UIRGrd_SKL.UIRGrd_ATAST
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Firing TRANS_Standing
      Animation = UIRGrd_SKL.UIRGrd_ATAED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_StandingHurt TRANS_FiringHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE_BACKWARDS
    End

    TransitionState = TRANS_FiringHurt TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Standing TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    ; ------- Bldg-capture

    ConditionState = UNPACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState = RAISING_FLAG
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState = PACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState = TRANS_Raising TRANS_Packing
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End
 End

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GC_Chem_GLARebelGunBeta
  End

 ReplaceModule ModuleTag_03
  Behavior = AIUpdateInterface ModuleTag_03_Override
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 90
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
 End
  Locomotor = SET_NORMAL WanderHumanLocomotor

 ReplaceModule ModuleTag_Death04
  Behavior = SlowDeathBehavior ModuleTag_Death04_Override
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 5000
    SinkDelay           = 0
    SinkRate            = 5.0  ; in Dist/Sec, height of head is 20, of hat is 25
    FX                  = INITIAL FX_ToxinTractorDie ;FX_DieByFireGLA
    OCL                 = INITIAL OCL_PoisonFieldUpgradedSmall
  End
 End

  Prerequisites
    Object = GC_Chem_GLABarracks
  End

End

; -----------------------------------------------------------------------------
; Build Snowman Disguise
; -----------------------------------------------------------------------------

Object GC_Chem_GLAInfantryRebel

  DisplayName = OBJECT:Chem_Rebel

  Prerequisites
    Object = GC_Chem_GLABarracks
  End

End

Object GC_Chem_GLAInfantryTunnelDefender

  DisplayName = OBJECT:TunnelDefender

  Prerequisites
    Object = GC_Chem_GLABarracks
  End

End

CommandButton GC_Slth_Command_ConstructGLAInfantryRebel
  Command       = UNIT_BUILD
  Object        = CINE_GLAInfantryRebel
  TextLabel     = Snowman_Disguise
  ButtonImage   = SURebel
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipGLABuildRebel
End

CommandSet New_GLABarracksCommandSet
  1  = GC_Slth_Command_ConstructGLAInfantryRebel ; Snowman Disguise
  2  = GC_Chem_Command_ConstructGLAInfantryRebel ; Toxin Rebel
  4  = GC_Chem_Command_ConstructGLAInfantryRPGTrooper ; Toxin Trooper
  13 = Command_SetRallyPoint
  14 = Command_Sell
End

Object GC_Chem_GLABarracks

  CommandSet = New_GLABarracksCommandSet

End

; -----------------------------------------------------------------------------
; Jump Jet Infantry
;
; From: "JumpJetInfantry"
; Author: Beng
; -----------------------------------------------------------------------------

;for walking on ground, use a hover loco also so it lands slowly after coming off water or cliffs
Locomotor CINE_HazMatHumanLocomotor
  Surfaces        = GROUND RUBBLE
  Speed           = 25
  SpeedDamaged    = 15
  MinSpeed        = 0
  TurnRate        = 500
  TurnRateDamaged = 500
  Acceleration    = 100
  AccelerationDamaged = 50
  Lift            = 120
  LiftDamaged     = 80
  Braking         = 100
  MinTurnSpeed    = 0
  PreferredHeight = -1
  SpeedLimitZ     = 60  ;max speed we want to try to fall
  AllowAirborneMotiveForce = Yes
  ZAxisBehavior   = SURFACE_RELATIVE_HEIGHT
  Appearance      = HOVER

  StickToGround = No ;must say "No" to override the existing field in CINE_HazMatHumanLocomotor

  PreferredHeightDamping = 0.8  ; so that we gradually adjust our height

  PitchInDirectionOfZVelFactor = 0   ;  how much to pitch according to our z-vel. 0=none, 1=lots (0=default)
  PitchStiffness  = 1.0
  RollStiffness   = 0.95                ;  stiffness of the "springs" in the suspension side to side.
  PitchDamping    = 0.9                 ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  RollDamping     = 0.9                 ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  ForwardVelocityPitchFactor  = -0.05   ;  How much velocity will cause the front to lift/dip
  LateralVelocityRollFactor   = 0.1     ;  How much cornering will cause the chassis to roll.
  Apply2DFrictionWhenAirborne = Yes
  AirborneTargetingHeight     = 30
  LocomotorWorksWhenDead = No
  GroupMovementPriority = MOVES_FRONT
End

; unused in game, now used for jump jets
Locomotor AuroraJetMissileLocomotor
  Surfaces = WATER CLIFF
  Speed           = 90
  SpeedDamaged    = 50
  MinSpeed        = 60
  TurnRate        = 20
  TurnRateDamaged = 10
  Acceleration    = 500
  AccelerationDamaged = 400
  Lift            = 120
  LiftDamaged     = 80
  Braking         = 20
  MinTurnSpeed    = 50
  PreferredHeight = 70
  AllowAirborneMotiveForce = Yes
  ZAxisBehavior   = RELATIVE_TO_HIGHEST_LAYER
  Appearance      = HOVER

  PitchInDirectionOfZVelFactor = 1.0    ;  how much to pitch according to our z-vel. 0=none, 1=lots (0=default)
  PitchStiffness  = 0.5                 ;  stiffness of the "springs" in the suspension forward & back.
  RollStiffness   = 0.1                 ;  stiffness of the "springs" in the suspension side to side.
  PitchDamping    = 0.9                 ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  RollDamping     = 0.9                 ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  ForwardVelocityPitchFactor  = -0.05   ;  How much velocity will cause the front to lift/dip
  LateralVelocityRollFactor   = 0.1     ;  How much cornering will cause the chassis to roll.
  Apply2DFrictionWhenAirborne = Yes
  AirborneTargetingHeight     = 75
  LocomotorWorksWhenDead = No
  GroupMovementPriority = MOVES_FRONT
End

Object Boss_InfantryRanger

  DisplayName         = OBJECT:Ranger

 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override

    OkToChangeModelColor = Yes
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ;--------------- Flying -----------------

    ConditionState      = MOVING OVER_WATER
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Fly
      ParticleSysBone   = "AIRNGR R FOOT" MissileDefenderMissileExhaust  ;"DUM - MVR"
    End
    AliasConditionState = MOVING CLIMBING ;over cliffs
    AliasConditionState = MOVING OVER_WATER REALLYDAMAGED
    AliasConditionState = MOVING CLIMBING REALLYDAMAGED

    ConditionState      = OVER_WATER
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey     = TRANS_FlyStand
      ParticleSysBone   = "AIRNGR R FOOT" MissileDefenderMissileExhaust
    End
    AliasConditionState = CLIMBING
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = CLIMBING REALLYDAMAGED

    TransitionState     = TRANS_Fly TRANS_FlyStand
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ParticleSysBone   = "AIRNGR R FOOT"  MissileDefenderMissileExhaust
    End

    TransitionState     = TRANS_FlyStand TRANS_Fly
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE_BACKWARDS
      ParticleSysBone   = "AIRNGR R FOOT"  MissileDefenderMissileExhaust
    End

    TransitionState     = TRANS_Fly TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Fly TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun) -----------
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End
    AliasConditionState = USING_WEAPON_A OVER_WATER
    AliasConditionState = USING_WEAPON_A CLIMBING

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End
    AliasConditionState = USING_WEAPON_A OVER_WATER REALLYDAMAGED
    AliasConditionState = USING_WEAPON_A CLIMBING REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Grenade Launcher)
    ConditionState      = PREATTACK_B 
      Animation         = AIRngr_SKL.AIRngr_ATBA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End
    AliasConditionState = FIRING_B OVER_WATER
    AliasConditionState = FIRING_B CLIMBING

    ConditionState      = BETWEEN_FIRING_SHOTS_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringB
      WaitForStateToFinishIfPossible = TRANS_FiringB
    End
    AliasConditionState = RELOADING_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B OVER_WATER
    AliasConditionState = BETWEEN_FIRING_SHOTS_B CLIMBING
    AliasConditionState = RELOADING_B OVER_WATER
    AliasConditionState = RELOADING_B CLIMBING

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATBST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATBST2
      AnimationMode     = ONCE
    End

    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2A
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End
    AliasConditionState = FIRING_B OVER_WATER REALLYDAMAGED
    AliasConditionState = FIRING_B CLIMBING REALLYDAMAGED

    ConditionState      = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringBInjured
      WaitForStateToFinishIfPossible = TRANS_FiringBInjured
    End
    AliasConditionState = RELOADING_B REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_B OVER_WATER REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_B CLIMBING REALLYDAMAGED
    AliasConditionState = RELOADING_B OVER_WATER REALLYDAMAGED
    AliasConditionState = RELOADING_B CLIMBING REALLYDAMAGED

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING

    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End
 End

  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE CLIFF_JUMPER

  Locomotor = SET_NORMAL CINE_HazMatHumanLocomotor AuroraJetMissileLocomotor

 ReplaceModule ModuleTag_07
  Behavior = PhysicsBehavior ModuleTag_07_Override
    Mass = 1.0
    FallHeightDamageFactor = 0
  End
 End

End

Object Boss_InfantryTankHunter

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  UpgradeCameo3 = NONE
  UpgradeCameo4 = NONE
  UpgradeCameo5 = NONE

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MissileTeam
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MissileDefenderMissileWeapon 
    Weapon = SECONDARY  MissileDefenderLaserGuidedMissileWeapon ;Controlled by special ability
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost = 300
  BuildTime = 5.0          ;in seconds  

  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryMissileDefenderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MissileDefenderVoiceSelect
  VoiceMove = MissileDefenderVoiceMove
  VoiceAttack = MissileDefenderVoiceAttack
  VoiceAttackAir = MissileDefenderVoiceAttack
  VoiceGuard = MissileDefenderVoiceMove
  VoiceFear = MissileDefenderVoiceFear

  UnitSpecificSounds
    VoiceCreate = MissileDefenderVoiceCreate
    VoiceGarrison = MissileDefenderVoiceGarrison
    VoiceEnter = MissileDefenderVoiceMove
    VoiceEnterHostile = MissileDefenderVoiceMove
    VoiceGetHealed = MissileDefenderVoiceMove
  End

 ReplaceModule ModuleTag_01
  Draw = W3DModelDraw ModuleTag_01_Override

    IgnoreConditionStates = REALLYDAMAGED

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = NITHNT_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle

    End

    ;------------ Flying ------------

    ConditionState      = MOVING OVER_WATER
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Fly
      ParticleSysBone   = "NITHNT R TOE0" MissileDefenderMissileExhaust ;NITHNT R FOOT ; NITHNT R TOE0 NITHNT_MAINROOT
    End
    AliasConditionState = MOVING CLIMBING ;over cliffs

    ConditionState      = OVER_WATER
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_FlyStand
      ParticleSysBone   = "NITHNT R TOE0" MissileDefenderMissileExhaust
    End
    AliasConditionState = CLIMBING

    TransitionState     = TRANS_Fly TRANS_FlyStand
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      ParticleSysBone   = "NITHNT R TOE0" MissileDefenderMissileExhaust
    End

    TransitionState     = TRANS_FlyStand TRANS_Fly
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE_BACKWARDS
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      ParticleSysBone   = "NITHNT R TOE0" MissileDefenderMissileExhaust
    End

    TransitionState     = TRANS_Fly TRANS_Stand
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

   ;----------------------------------

    ConditionState      = FIRING_A 
      Animation         = NITHNT_SKL.NITHNT_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = FIRING_A OVER_WATER
    AliasConditionState = FIRING_A CLIMBING

    AliasConditionState = FIRING_B
    AliasConditionState = FIRING_B OVER_WATER
    AliasConditionState = FIRING_B CLIMBING

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER
    AliasConditionState = BETWEEN_FIRING_SHOTS_A CLIMBING

    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B OVER_WATER
    AliasConditionState = BETWEEN_FIRING_SHOTS_B CLIMBING

    ConditionState      = MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState      = RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = RELOADING_A OVER_WATER
    AliasConditionState = RELOADING_A CLIMBING
    AliasConditionState = MOVING RELOADING_A OVER_WATER
    AliasConditionState = MOVING RELOADING_A CLIMBING

    AliasConditionState = RELOADING_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = RELOADING_B OVER_WATER
    AliasConditionState = RELOADING_B CLIMBING
    AliasConditionState = MOVING RELOADING_B OVER_WATER
    AliasConditionState = MOVING RELOADING_B CLIMBING

    ConditionState      = DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

  End
 End

  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE CLIFF_JUMPER

  Locomotor = SET_NORMAL CINE_HazMatHumanLocomotor AuroraJetMissileLocomotor

 ReplaceModule ModuleTag_05
  Behavior = PhysicsBehavior ModuleTag_05_Override
    Mass = 1.0
    FallHeightDamageFactor = 0
  End
 End

End

; -----------------------------------------------------------------------------
; Build Jump Jet Infantry
; -----------------------------------------------------------------------------

CommandButton Boss_Command_ConstructAmericaInfantryRanger
  Command       = UNIT_BUILD
  Object        = Boss_InfantryRanger
  TextLabel     = Jump_Jet_Ranger
  ButtonImage   = SARanger
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABuildRanger
End

CommandButton Boss_Command_ConstructChinaInfantryTankHunter
  Command       = UNIT_BUILD
  Object        = Boss_InfantryTankHunter
  TextLabel     = Jump_Jet_Missile_Defender
  ButtonImage   = SAMissleDefender
  ButtonBorderType        = BUILD ; Identifier for the User as to what kind of button this is
  DescriptLabel           = CONTROLBAR:ToolTipUSABuildMissileDefender
End

CommandSet New_BossBarracksCommandSet
  1 = Boss_Command_ConstructAmericaInfantryRanger ; Jump Jet Ranger
  3 = Boss_Command_ConstructChinaInfantryTankHunter ; Jump Jet Missile Defender
 13 = Command_SetRallyPoint
 14 = Command_Sell 
End

Object Boss_Barracks
  CommandSet = New_BossBarracksCommandSet
End
